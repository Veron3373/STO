# üì° –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Real-time –æ–Ω–æ–≤–ª–µ–Ω—å –¥–ª—è –ü–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫–∞

## –©–æ –≤–∂–µ –∑—Ä–æ–±–ª–µ–Ω–æ ‚úÖ

1. **–ö–æ–¥ Realtime –ø—ñ–¥–ø–∏—Å–∫–∏** - –≤–∂–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –≤ `planyvannya_realtime.ts`
2. **–ü–æ–ª–µ `xto_zapusav`** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø–∏—Å—É—î—Ç—å—Å—è –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ/–æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ –∑–∞–ø–∏—Å—ñ–≤
3. **Toast-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è** - –ø–æ–∫–∞–∑—É—é—Ç—å—Å—è –ø—Ä–∏ –∑–º—ñ–Ω–∞—Ö –≤—ñ–¥ —ñ–Ω—à–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è** - –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏

## –©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑—Ä–æ–±–∏—Ç–∏ üîß

### –ö—Ä–æ–∫ 1: –£–≤—ñ–º–∫–Ω—É—Ç–∏ Realtime –≤ Supabase

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ **Supabase Dashboard**: https://supabase.com/dashboard
2. –í–∏–±–µ—Ä—ñ—Ç—å –≤–∞—à –ø—Ä–æ–µ–∫—Ç
3. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ **SQL Editor** (–ª—ñ–≤–∞ –ø–∞–Ω–µ–ª—å)
4. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –∑–∞–ø–∏—Ç —ñ –≤—Å—Ç–∞–≤—Ç–µ –∫–æ–¥ –∑ —Ñ–∞–π–ª—É `migrations/enable_realtime_post_arxiv.sql`:

```sql
-- 1. –î–æ–¥–∞—Ç–∏ —Ç–∞–±–ª–∏—Ü—é post_arxiv –¥–æ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó Realtime
DO $$
BEGIN
  ALTER PUBLICATION supabase_realtime ADD TABLE post_arxiv;
  RAISE NOTICE '–¢–∞–±–ª–∏—Ü—é post_arxiv –¥–æ–¥–∞–Ω–æ –¥–æ supabase_realtime';
EXCEPTION 
  WHEN duplicate_object THEN
    RAISE NOTICE '–¢–∞–±–ª–∏—Ü—è post_arxiv –≤–∂–µ –≤ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó supabase_realtime';
END $$;

-- 2. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ REPLICA IDENTITY FULL
ALTER TABLE post_arxiv REPLICA IDENTITY FULL;

-- 3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞
SELECT schemaname, tablename 
FROM pg_publication_tables 
WHERE pubname = 'supabase_realtime';
```

5. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **RUN** (–∞–±–æ `Ctrl+Enter`)
6. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç - –≤ —Å–ø–∏—Å–∫—É –º–∞—î –±—É—Ç–∏ —Ç–∞–±–ª–∏—Ü—è `post_arxiv`

### –ö—Ä–æ–∫ 2: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ Realtime –ø—Ä–∞—Ü—é—î

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –ø–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫ –≤ **–¥–≤–æ—Ö —Ä—ñ–∑–Ω–∏—Ö –≤–∫–ª–∞–¥–∫–∞—Ö –±—Ä–∞—É–∑–µ—Ä–∞** (–∞–±–æ –≤ —Ä—ñ–∑–Ω–∏—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö)
2. –£–≤—ñ–π–¥—ñ—Ç—å –ø—ñ–¥ **—Ä—ñ–∑–Ω–∏–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏** (–∞–±–æ –æ–¥–Ω–∏–º, –∞–ª–µ –≤ —Ä—ñ–∑–Ω–∏—Ö –≤–∫–ª–∞–¥–∫–∞—Ö)
3. –í –æ–¥–Ω—ñ–π –≤–∫–ª–∞–¥—Ü—ñ **—Å—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è**
4. –í –¥—Ä—É–≥—ñ–π –≤–∫–ª–∞–¥—Ü—ñ –º–∞—î:
   - **–ó'—è–≤–∏—Ç–∏—Å—è toast-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è** –ø—Ä–æ –Ω–æ–≤–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
   - **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–∏—Ç–∏—Å—è –∫–∞–ª–µ–Ω–¥–∞—Ä** (–±–ª–æ–∫ –∑'—è–≤–∏—Ç—å—Å—è –Ω–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—ñ)
   - **–ü–æ—á—É—Ç–∏—Å—è –∑–≤—É–∫–æ–≤–∏–π —Å–∏–≥–Ω–∞–ª**

### –ö—Ä–æ–∫ 3: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

–í—ñ–¥–∫—Ä–∏–π—Ç–µ **Developer Tools** (F12) ‚Üí **Console** —ñ –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ:

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:**
```
üì° [PostArxiv Realtime] –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—ñ–¥–ø–∏—Å–∫–∏ –Ω–∞ post_arxiv...
üì° [PostArxiv Realtime] –ü–æ—Ç–æ—á–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á: [–≤–∞—à–µ —ñ–º'—è]
üì° [PostArxiv Realtime] –°—Ç–∞—Ç—É—Å –∫–∞–Ω–∞–ª—É: SUBSCRIBED
‚úÖ [PostArxiv Realtime] –ü—ñ–¥–ø–∏—Å–∫–∞ —Å—Ç–≤–æ—Ä–µ–Ω–∞! –û—á—ñ–∫—É—î–º–æ –ø–æ–¥—ñ—ó –≤—ñ–¥ Supabase...
```

‚ùå **–ü–æ–º–∏–ª–∫–∏ —è–∫—ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏:**
```
‚ö†Ô∏è [PostArxiv Realtime] refreshPlannerCalendar –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ!
```
‚Üí –¶–µ –æ–∑–Ω–∞—á–∞—î —â–æ —Ñ—É–Ω–∫—Ü—ñ—è –Ω–µ –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∞. –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Å—Ç–æ—Ä—ñ–Ω–∫—É.

```
üì° [PostArxiv Realtime] –°—Ç–∞—Ç—É—Å –∫–∞–Ω–∞–ª—É: CHANNEL_ERROR
```
‚Üí Realtime –Ω–µ —É–≤—ñ–º–∫–Ω–µ–Ω–∏–π –≤ Supabase. –í–∏–∫–æ–Ω–∞–π—Ç–µ –ö—Ä–æ–∫ 1.

## –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î üîÑ

### 1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è/–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Å—É

```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ê —Å—Ç–≤–æ—Ä—é—î –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
    ‚Üì
–ó–∞–ø–∏—Å –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ –ë–î (post_arxiv)
    ‚Üì
–ü–æ–ª–µ xto_zapusav = "–ü–Ü–ë –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –ê"
    ‚Üì
Supabase Realtime –Ω–∞–¥—Å–∏–ª–∞—î –ø–æ–¥—ñ—é INSERT/UPDATE
    ‚Üì
–í—Å—ñ –ø—ñ–¥–∫–ª—é—á–µ–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –æ—Ç—Ä–∏–º—É—é—Ç—å –ø–æ–¥—ñ—é
    ‚Üì
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ë –±–∞—á–∏—Ç—å toast-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
    ‚Üì
–ö–∞–ª–µ–Ω–¥–∞—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è
```

### 2. –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –≤–ª–∞—Å–Ω–∏—Ö –∑–º—ñ–Ω

- –Ø–∫—â–æ `xto_zapusav === –ø–æ—Ç–æ—á–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á` ‚Üí toast –ù–ï –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è
- –Ø–∫—â–æ `xto_zapusav !== –ø–æ—Ç–æ—á–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á` ‚Üí toast –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è

–¶–µ –∑–∞–ø–æ–±—ñ–≥–∞—î –ø–æ–∫–∞–∑—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –ø—Ä–æ –≤–ª–∞—Å–Ω—ñ –¥—ñ—ó.

## –ù–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è üêõ

### –ü—Ä–æ–±–ª–µ–º–∞: Toast –Ω–µ –ø–æ–∫–∞–∑—É—é—Ç—å—Å—è

**–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:**
1. –ß–∏ –≤–∏–∫–æ–Ω–∞–Ω–∞ –º—ñ–≥—Ä–∞—Ü—ñ—è –≤ Supabase (–ö—Ä–æ–∫ 1)
2. –ß–∏ —î –≤ –∫–æ–Ω—Å–æ–ª—ñ `SUBSCRIBED` —Å—Ç–∞—Ç—É—Å
3. –ß–∏ —Ä—ñ–∑–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ (–ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ `xto_zapusav`)

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–∞–ª–µ–Ω–¥–∞—Ä –Ω–µ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è

**–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:**
1. –ß–∏ —î –≤ –∫–æ–Ω—Å–æ–ª—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è `üîÑ [PostArxiv Realtime] –û–Ω–æ–≤–ª—é—é –±–ª–æ–∫–∏ –ø–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫–∞...`
2. –ß–∏ —î —Ñ—É–Ω–∫—Ü—ñ—è `refreshPlannerCalendar` –≤ window

**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
```javascript
// –í –∫–æ–Ω—Å–æ–ª—ñ –±—Ä–∞—É–∑–µ—Ä–∞ –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ:
console.log(typeof window.refreshPlannerCalendar);
// –ú–∞—î –±—É—Ç–∏ "function"
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ–º–∏–ª–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è

**–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:**
1. –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç –∑'—î–¥–Ω–∞–Ω–Ω—è
2. Supabase –ø—Ä–æ–µ–∫—Ç –∞–∫—Ç–∏–≤–Ω–∏–π
3. API –∫–ª—é—á—ñ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ –≤ `.env`

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è üß™

### –¢–µ—Å—Ç 1: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–ø–∏—Å—É
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ 2 –≤–∫–ª–∞–¥–∫–∏
2. –í –≤–∫–ª–∞–¥—Ü—ñ 1: —Å—Ç–≤–æ—Ä—ñ—Ç—å –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
3. –í –≤–∫–ª–∞–¥—Ü—ñ 2: –º–∞—î –∑'—è–≤–∏—Ç–∏—Å—è toast —ñ –±–ª–æ–∫ –Ω–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—ñ

### –¢–µ—Å—Ç 2: –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Å—É
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ 2 –≤–∫–ª–∞–¥–∫–∏
2. –í –≤–∫–ª–∞–¥—Ü—ñ 1: –∑–º—ñ–Ω—ñ—Ç—å —á–∞—Å —ñ—Å–Ω—É—é—á–æ–≥–æ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
3. –í –≤–∫–ª–∞–¥—Ü—ñ 2: –º–∞—î –∑'—è–≤–∏—Ç–∏—Å—è toast "‚úèÔ∏è –ó–º—ñ–Ω–µ–Ω–æ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è" —ñ –±–ª–æ–∫ –æ–Ω–æ–≤–∏—Ç–∏—Å—è

### –¢–µ—Å—Ç 3: –í–∏–¥–∞–ª–µ–Ω–Ω—è –∑–∞–ø–∏—Å—É
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ 2 –≤–∫–ª–∞–¥–∫–∏
2. –í –≤–∫–ª–∞–¥—Ü—ñ 1: –≤–∏–¥–∞–ª—ñ—Ç—å –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
3. –í –≤–∫–ª–∞–¥—Ü—ñ 2: –º–∞—î –∑'—è–≤–∏—Ç–∏—Å—è toast "üóëÔ∏è –í–∏–¥–∞–ª–µ–Ω–æ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è" —ñ –±–ª–æ–∫ –∑–Ω–∏–∫–Ω—É—Ç–∏

## –î–æ–¥–∞—Ç–∫–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ üé®

### Toast-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –º—ñ—Å—Ç—è—Ç—å:
- üë§ –ü–Ü–ë –∫–ª—ñ—î–Ω—Ç–∞
- üöó –ú–æ–¥–µ–ª—å —ñ –Ω–æ–º–µ—Ä –∞–≤—Ç–æ
- üïê –ß–∞—Å –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
- üìã –°—Ç–∞—Ç—É—Å
- üë®‚Äçüîß –•—Ç–æ —Å—Ç–≤–æ—Ä–∏–≤/–∑–º—ñ–Ω–∏–≤ –∑–∞–ø–∏—Å

### –ó–≤—É–∫–æ–≤—ñ —Å–∏–≥–Ω–∞–ª–∏:
- **880 Hz** - –Ω–æ–≤–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è (–∑–µ–ª–µ–Ω–∏–π)
- **660 Hz** - –∑–º—ñ–Ω–∞ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è (–ø–æ–º–∞—Ä–∞–Ω—á–µ–≤–∏–π)
- **440 Hz** - –≤–∏–¥–∞–ª–µ–Ω–Ω—è (—á–µ—Ä–≤–æ–Ω–∏–π)

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–Ω–∏–∫–Ω–µ–Ω–Ω—è:
- Toast –∑–Ω–∏–∫–∞—î —á–µ—Ä–µ–∑ **8 —Å–µ–∫—É–Ω–¥**
- –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–Ω—ñ –º–∏—à—ñ - —Ç–∞–π–º–µ—Ä –∑—É–ø–∏–Ω—è—î—Ç—å—Å—è
- –ü—ñ—Å–ª—è –≤—ñ–¥–≤–µ–¥–µ–Ω–Ω—è - —â–µ **4 —Å–µ–∫—É–Ω–¥–∏**

## –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ üí¨

–Ø–∫—â–æ –≤–∏–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º–∏:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Network –≤–∫–ª–∞–¥–∫—É –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å WebSocket –∑'—î–¥–Ω–∞–Ω–Ω—è
3. –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Å—Ç–æ—Ä—ñ–Ω–∫—É
4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ –º—ñ–≥—Ä–∞—Ü—ñ—è –≤–∏–∫–æ–Ω–∞–Ω–∞ –≤ Supabase
