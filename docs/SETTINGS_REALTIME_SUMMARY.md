# üîÑ Real-Time Settings Subscription - –ü—ñ–¥—Å—É–º–æ–∫ –ó–º—ñ–Ω

## üìù –û–ø–∏—Å –∑–∞–¥–∞—á—ñ

–°—Ç–≤–æ—Ä–µ–Ω–æ —Å–∏—Å—Ç–µ–º—É real-time –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –¥–ª—è –≤—Å—ñ—Ö —Ä–æ–ª–µ–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä, –ü—Ä–∏–π–º–∞–ª—å–Ω–∏–∫, –°–ª—é—Å–∞—Ä, –ó–∞–ø—á–∞—Å—Ç–∏—Å—Ç, –°–∫–ª–∞–¥–æ–≤—â–∏–∫). –¢–µ–ø–µ—Ä –ø—Ä–∏ –∑–º—ñ–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º, –∑–º—ñ–Ω–∏ –º–∏—Ç—Ç—î–≤–æ –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è –¥–ª—è –≤—Å—ñ—Ö –∞–∫—Ç–∏–≤–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏.

## üéØ –í–∏—Ä—ñ—à–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞

**–î–æ:**
- –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –∑–º—ñ–Ω—é—î –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø—Ä–∏—Ö–æ–≤—É—î –∫–Ω–æ–ø–∫—É "–ë—É—Ö–≥–∞–ª—Ç–µ—Ä—ñ—è" –¥–ª—è –ü—Ä–∏–π–º–∞–ª—å–Ω–∏–∫–∞)
- –ü—Ä–∏–π–º–∞–ª—å–Ω–∏–∫ –ø–æ–≤–∏–Ω–µ–Ω –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –∑–º—ñ–Ω–∏
- –ù–µ–∑—Ä—É—á–Ω–æ —Ç–∞ –Ω–µ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ

**–ü—ñ—Å–ª—è:**
- –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –∑–º—ñ–Ω—é—î –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- –ü—Ä–∏–π–º–∞–ª—å–Ω–∏–∫ –º–∏—Ç—Ç—î–≤–æ –±–∞—á–∏—Ç—å –∑–º—ñ–Ω–∏
- –ë–µ–∑ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏!

## ‚úÖ –©–æ –±—É–ª–æ –∑—Ä–æ–±–ª–µ–Ω–æ

### 1. –°—Ç–≤–æ—Ä–µ–Ω–æ –Ω–æ–≤—ñ —Ñ–∞–π–ª–∏

#### TypeScript —Ñ–∞–π–ª–∏:

1. **src/ts/roboha/zakaz_naraudy/inhi/settings_subscription.ts** (326 —Ä—è–¥–∫—ñ–≤)
   - –ì–æ–ª–æ–≤–Ω–∏–π –º–æ–¥—É–ª—å real-time –ø—ñ–¥–ø–∏—Å–∫–∏
   - –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–º—ñ–Ω –ø–æ —Ä–æ–ª—è–º
   - –û–Ω–æ–≤–ª–µ–Ω–Ω—è UI –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
   - –§—É–Ω–∫—Ü—ñ—ó:
     - `initializeSettingsSubscription()` - —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—ñ–¥–ø–∏—Å–∫–∏
     - `disconnectSettingsSubscription()` - –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –ø—ñ–¥–ø–∏—Å–∫–∏
     - `refreshSettingsCache()` - –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–µ—à—É –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å
     - `updateUIBasedOnSettings()` - –æ–Ω–æ–≤–ª–µ–Ω–Ω—è UI
     - `updatePibMagazinVisibility()` - –≤–∏–¥–∏–º—ñ—Å—Ç—å –∫–æ–ª–æ–Ω–∫–∏ –ü–Ü–ë/–ú–∞–≥–∞–∑–∏–Ω
     - `updateCatalogVisibility()` - –≤–∏–¥–∏–º—ñ—Å—Ç—å –∫–æ–ª–æ–Ω–∫–∏ –ö–∞—Ç–∞–ª–æ–≥
     - `updateZarplataVisibility()` - –≤–∏–¥–∏–º—ñ—Å—Ç—å –∫–æ–ª–æ–Ω–∫–∏ –ó–∞—Ä–ø–ª–∞—Ç–∞
     - `updateSMSButtonVisibility()` - –≤–∏–¥–∏–º—ñ—Å—Ç—å –∫–Ω–æ–ø–∫–∏ SMS
     - `updateActModalButtons()` - –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–Ω–æ–ø–æ–∫ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞

2. **src/ts/roboha/zakaz_naraudy/inhi/settings_realtime_init.ts** (13 —Ä—è–¥–∫—ñ–≤)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—ñ–¥–ø–∏—Å–∫–∏ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
   - –í—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –ø—ñ–¥–ø–∏—Å–∫–∏ –ø—Ä–∏ –∑–∞–∫—Ä–∏—Ç—Ç—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏

#### SQL —Ñ–∞–π–ª–∏:

3. **supabase/enable_settings_realtime.sql** (116 —Ä—è–¥–∫—ñ–≤)
   - –£–≤—ñ–º–∫–Ω–µ–Ω–Ω—è Row Level Security –¥–ª—è —Ç–∞–±–ª–∏—Ü—ñ settings
   - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ–ª—ñ—Ç–∏–∫ –¥–æ—Å—Ç—É–ø—É:
     - –ß–∏—Ç–∞–Ω–Ω—è –¥–ª—è –≤—Å—ñ—Ö –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
     - –ó–º—ñ–Ω–∞ —Ç—ñ–ª—å–∫–∏ –¥–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤
   - –£–≤—ñ–º–∫–Ω–µ–Ω–Ω—è Realtime –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó –¥–ª—è —Ç–∞–±–ª–∏—Ü—ñ settings
   - –§—É–Ω–∫—Ü—ñ—è –ª–æ–≥—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω
   - –¢—Ä–∏–≥–µ—Ä –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –ª–æ–≥—É–≤–∞–Ω–Ω—è

#### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è:

4. **docs/SETTINGS_REALTIME.md** (400+ —Ä—è–¥–∫—ñ–≤)
   - –ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Å–∏—Å—Ç–µ–º–∏
   - –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Ç–∞ –º–∞–ø—ñ–Ω–≥ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å
   - –Ø–∫ –ø—Ä–∞—Ü—é—î —Å–∏—Å—Ç–µ–º–∞
   - –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
   - –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
   - –ù–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è
   - –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è

5. **docs/SETTINGS_QUICKSTART.md** (100+ —Ä—è–¥–∫—ñ–≤)
   - –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç
   - –ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –∫—Ä–æ–∫–∏ –¥–ª—è –∑–∞–ø—É—Å–∫—É
   - –ë–∞–∑–æ–≤–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
   - –î–æ–≤—ñ–¥–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

6. **docs/examples/add_new_setting_example.ts** (150+ —Ä—è–¥–∫—ñ–≤)
   - –î–µ—Ç–∞–ª—å–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
   - –ü–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è
   - –î–æ–¥–∞—Ç–∫–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ (–∞–Ω—ñ–º–∞—Ü—ñ—ó, –ª–æ–≥—É–≤–∞–Ω–Ω—è, –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è)

### 2. –ó–º—ñ–Ω–µ–Ω–æ —ñ—Å–Ω—É—é—á—ñ —Ñ–∞–π–ª–∏

1. **src/ts/main.ts**
   - –î–æ–¥–∞–Ω–æ —ñ–º–ø–æ—Ä—Ç `settings_realtime_init` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É –ø—ñ–¥–ø–∏—Å–∫–∏

### 3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º–∏

```
üìÅ stoBraclavecGIT/
‚îú‚îÄ‚îÄ üìÅ src/ts/
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ roboha/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ zakaz_naraudy/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ üìÅ inhi/
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ üìÑ settings_subscription.ts       ‚Üê –ù–û–í–ò–ô
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ üìÑ settings_realtime_init.ts      ‚Üê –ù–û–í–ò–ô
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ main.ts                                    ‚Üê –ó–ú–Ü–ù–ï–ù–û
‚îÇ
‚îú‚îÄ‚îÄ üìÅ supabase/
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ enable_settings_realtime.sql               ‚Üê –ù–û–í–ò–ô
‚îÇ
‚îî‚îÄ‚îÄ üìÅ docs/
    ‚îú‚îÄ‚îÄ üìÑ SETTINGS_REALTIME.md                       ‚Üê –ù–û–í–ò–ô
    ‚îú‚îÄ‚îÄ üìÑ SETTINGS_QUICKSTART.md                     ‚Üê –ù–û–í–ò–ô
    ‚îî‚îÄ‚îÄ üìÅ examples/
        ‚îî‚îÄ‚îÄ üìÑ add_new_setting_example.ts             ‚Üê –ù–û–í–ò–ô
```

## üîë –ö–ª—é—á–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø—ñ–¥–ø–∏—Å–∫–∞
- –ó–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
- –ü—Ä–∞—Ü—é—î –¥–ª—è –≤—Å—ñ—Ö —Ä–æ–ª–µ–π
- –í—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –ø—Ä–∏ –∑–∞–∫—Ä–∏—Ç—Ç—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏

### 2. –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –ø–æ —Ä–æ–ª—è–º
```typescript
const SETTING_COLUMN_MAP = {
  1: "–ü—Ä–∏–π–º–∞–ª—å–Ω–∏–∫",    // –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
  2: "data",           // –ö–∞—Ç–∞–ª–æ–≥ (–¥–ª—è –≤—Å—ñ—Ö)
  3: "–°–ª—é—Å–∞—Ä",        // –ó–∞—Ä–ø–ª–∞—Ç–∞
  // ...
};
```

### 3. –û–Ω–æ–≤–ª–µ–Ω–Ω—è UI
- –í–∏–¥–∏–º—ñ—Å—Ç—å –∫–æ–ª–æ–Ω–æ–∫ (–ü–Ü–ë/–ú–∞–≥–∞–∑–∏–Ω, –ö–∞—Ç–∞–ª–æ–≥, –ó–∞—Ä–ø–ª–∞—Ç–∞)
- –í–∏–¥–∏–º—ñ—Å—Ç—å –∫–Ω–æ–ø–æ–∫ (SMS, –ë—É—Ö–≥–∞–ª—Ç–µ—Ä—ñ—è)
- –î–æ—Å—Ç—É–ø –¥–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É –∞–∫—Ç—ñ–≤

### 4. –ë–µ–∑–ø–µ–∫–∞
- RLS –ø–æ–ª—ñ—Ç–∏–∫–∏ –≤ Supabase
- –ß–∏—Ç–∞—Ç–∏ –º–æ–∂—É—Ç—å –≤—Å—ñ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–æ–≤–∞–Ω—ñ
- –ó–º—ñ–Ω—é–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∏

### 5. –õ–æ–≥—É–≤–∞–Ω–Ω—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –∞—É–¥–∏—Ç –∑–º—ñ–Ω
- –ó–∞–ø–∏—Å –≤ PostgreSQL NOTICE

## üìä –ú–∞–ø—ñ–Ω–≥ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –Ω–∞ —Ä–æ–ª—ñ

| setting_id | –†–æ–ª—å | –û–ø–∏—Å |
|------------|------|------|
| 1 | –ü—Ä–∏–π–º–∞–ª—å–Ω–∏–∫ | –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è |
| 2 | –í—Å—ñ (data) | –ö–∞—Ç–∞–ª–æ–≥ |
| 3 | –°–ª—é—Å–∞—Ä | –ó–∞—Ä–ø–ª–∞—Ç–∞ / –ê–∫—Ç –ó–∞–∫—Ä–∏—Ç—Ç—è |
| 4 | –ü—Ä–∏–π–º–∞–ª—å–Ω–∏–∫ | –ë—É—Ö–≥–∞–ª—Ç–µ—Ä—ñ—è |
| 5 | –í—Å—ñ (data) | SMS |
| 6-9 | –ü—Ä–∏–π–º–∞–ª—å–Ω–∏–∫ | –ë—É—Ö–≥–∞–ª—Ç–µ—Ä—ñ—è –°–∫–ª–∞–¥ |
| 13 | –°–∫–ª–∞–¥–æ–≤—â–∏–∫ | –ë—É—Ö–≥–∞–ª—Ç–µ—Ä—ñ—è –î–µ—Ç–∞–ª—ñ |
| 14-21 | –ü—Ä–∏–π–º–∞–ª—å–Ω–∏–∫/–ó–∞–ø—á–∞—Å—Ç–∏—Å—Ç | –ê–∫—Ç–∏ |

## üöÄ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

1. **–í–∏–∫–æ–Ω–∞—Ç–∏ SQL —Å–∫—Ä–∏–ø—Ç –≤ Supabase:**
   ```bash
   supabase/enable_settings_realtime.sql
   ```

2. **–ö–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è** –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é (—ñ–º–ø–æ—Ä—Ç –≤ main.ts)

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

**2 –≤–∫–ª–∞–¥–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞:**

**–í–∫–ª–∞–¥–∫–∞ 1** (–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä):
```
1. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ‚Üí –†–æ–ª—å "–ü—Ä–∏–π–º–∞–ª—å–Ω–∏–∫"
2. –ó–Ω—è—Ç–∏ —á–µ–∫–±–æ–∫—Å "–ë—É—Ö–≥–∞–ª—Ç–µ—Ä—ñ—è"
3. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ –û–ö
```

**–í–∫–ª–∞–¥–∫–∞ 2** (–ü—Ä–∏–π–º–∞–ª—å–Ω–∏–∫):
```
‚úÖ –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è "–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –æ–Ω–æ–≤–ª–µ–Ω–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º"
‚úÖ –ö–Ω–æ–ø–∫–∞ "–ë—É—Ö–≥–∞–ª—Ç–µ—Ä—ñ—è" –ø—Ä–∏—Ö–æ–≤—É—î—Ç—å—Å—è –º–∏—Ç—Ç—î–≤–æ
‚úÖ –ë–µ–∑ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è!
```

### –ö–æ–Ω—Å–æ–ª—å–Ω—ñ –ª–æ–≥–∏

```
üöÄ –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è real-time –ø—ñ–¥–ø–∏—Å–∫–∏ –Ω–∞ settings...
üîå –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—ñ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∑–º—ñ–Ω–∏ –≤ settings...
‚úÖ –ü—ñ–¥–ø–∏—Å–∫–∞ –Ω–∞ settings –∞–∫—Ç–∏–≤–Ω–∞

--- –ü—Ä–∏ –∑–º—ñ–Ω—ñ ---

üì° Settings change detected: { eventType: "UPDATE", ... }
üîç –ó–º—ñ–Ω–∞ –≤ setting_id=4, –∫–æ–ª–æ–Ω–∫–∞="–ü—Ä–∏–π–º–∞–ª—å–Ω–∏–∫"
‚úÖ –ó–º—ñ–Ω–∞ —Å—Ç–æ—Å—É—î—Ç—å—Å—è —Ä–æ–ª—ñ –ü—Ä–∏–π–º–∞–ª—å–Ω–∏–∫, –æ–Ω–æ–≤–ª—é—î–º–æ...
‚úÖ Settings cache –æ–Ω–æ–≤–ª–µ–Ω–æ
üîÑ UI –æ–Ω–æ–≤–ª–µ–Ω–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –Ω–æ–≤–∏—Ö –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

- **–ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è:** [SETTINGS_REALTIME.md](./SETTINGS_REALTIME.md)
- **–®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç:** [SETTINGS_QUICKSTART.md](./SETTINGS_QUICKSTART.md)
- **–ü—Ä–∏–∫–ª–∞–¥ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è:** [examples/add_new_setting_example.ts](./examples/add_new_setting_example.ts)

## üîß –¢–µ—Ö–Ω—ñ—á–Ω–∏–π —Å—Ç–µ–∫

- **Frontend:** TypeScript
- **Real-time:** Supabase Realtime (PostgreSQL LISTEN/NOTIFY)
- **Security:** Row Level Security (RLS)
- **Database:** PostgreSQL
- **Triggers:** plpgsql

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª—é—î –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è –≤—Å—ñ—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ:

‚úÖ –ë–µ–∑ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏  
‚úÖ –ë–µ–∑–ø–µ—á–Ω–æ (RLS –ø–æ–ª—ñ—Ç–∏–∫–∏)  
‚úÖ –ï—Ñ–µ–∫—Ç–∏–≤–Ω–æ (—Ç—ñ–ª—å–∫–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è)  
‚úÖ –ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–æ (–±—É–¥—å-—è–∫–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤)  
‚úÖ –õ–æ–≥–æ–≤–∞–Ω–æ (–∞—É–¥–∏—Ç –≤—Å—ñ—Ö –∑–º—ñ–Ω)  

## üêõ –ù–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞–Ω—É –ø—ñ–¥–ø–∏—Å–∫–∏
```typescript
import { isSettingsSubscriptionActive } from './settings_subscription';
console.log('–ê–∫—Ç–∏–≤–Ω–∞:', isSettingsSubscriptionActive());
```

### –†—É—á–Ω–µ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
```typescript
import { disconnectSettingsSubscription } from './settings_subscription';
disconnectSettingsSubscription();
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ RLS –≤ Supabase
```sql
SELECT tablename, rowsecurity FROM pg_tables 
WHERE schemaname = 'public' AND tablename = 'settings';
```

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–ü—Ä–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—ñ –ø—Ä–æ–±–ª–µ–º:
1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –ø–æ–º–∏–ª–∫–∏
2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π
3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ SQL —Å–∫—Ä–∏–ø—Ç –≤–∏–∫–æ–Ω–∞–Ω–æ –≤ Supabase
4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ RLS –ø–æ–ª—ñ—Ç–∏–∫–∏
5. –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ [SETTINGS_REALTIME.md](./SETTINGS_REALTIME.md)

---

**–ê–≤—Ç–æ—Ä:** GitHub Copilot  
**–î–∞—Ç–∞:** 10 —Å—ñ—á–Ω—è 2026  
**–í–µ—Ä—Å—ñ—è:** 1.0.0
